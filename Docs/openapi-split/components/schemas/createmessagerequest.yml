components:
  schemas:
    CreateMessageRequest:
      required:
        - role
        - content
      type: object
      properties:
        role:
          enum:
            - user
            - assistant
          type: string
          description: "The role of the entity that is creating the message. Allowed values include:\n- `user`: Indicates the message is sent by an actual user and should be used in most cases to represent user-generated messages.\n- `assistant`: Indicates the message is generated by the assistant. Use this value to insert messages from the assistant into the conversation.\n"
        content:
          oneOf:
            - title: Text content
              type: string
              description: The text contents of the message.
            - title: Array of content parts
              minItems: 1
              type: array
              items:
                oneOf:
                  - $ref: '#/components/schemas/MessageContentImageFileObject'
                  - $ref: '#/components/schemas/MessageContentImageUrlObject'
                  - $ref: '#/components/schemas/MessageRequestContentTextObject'
              description: 'An array of content parts with a defined type, each can be of type `text` or images can be passed with `image_url` or `image_file`. Image types are only supported on [Vision-compatible models](/docs/models).'
        attachments:
          required:
            - file_id
            - tools
          type: array
          items:
            type: object
            properties:
              file_id:
                type: string
                description: The ID of the file to attach to the message.
              tools:
                type: array
                items:
                  oneOf:
                    - $ref: '#/components/schemas/AssistantToolsCode'
                    - $ref: '#/components/schemas/AssistantToolsFileSearchTypeOnly'
                description: The tools to add this file to.
          description: 'A list of files attached to the message, and the tools they should be added to.'
          nullable: true
        metadata:
          $ref: '#/components/schemas/Metadata'
      additionalProperties: false