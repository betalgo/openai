components:
  schemas:
    RealtimeTurnDetection:
      anyOf:
        - title: Realtime Turn Detection
          anyOf:
            - title: Server VAD
              required:
                - type
              type: object
              properties:
                type:
                  enum:
                    - server_vad
                  type: string
                  description: "Type of turn detection, `server_vad` to turn on simple Server VAD.\n"
                  default: server_vad
                threshold:
                  type: number
                  description: "Used only for `server_vad` mode. Activation threshold for VAD (0.0 to 1.0), this defaults to 0.5. A\nhigher threshold will require louder audio to activate the model, and\nthus might perform better in noisy environments.\n"
                prefix_padding_ms:
                  type: integer
                  description: "Used only for `server_vad` mode. Amount of audio to include before the VAD detected speech (in\nmilliseconds). Defaults to 300ms.\n"
                silence_duration_ms:
                  type: integer
                  description: "Used only for `server_vad` mode. Duration of silence to detect speech stop (in milliseconds). Defaults\nto 500ms. With shorter values the model will respond more quickly,\nbut may jump in on short pauses from the user.\n"
                create_response:
                  type: boolean
                  description: "Whether or not to automatically generate a response when a VAD stop event occurs.\n"
                  default: true
                interrupt_response:
                  type: boolean
                  description: "Whether or not to automatically interrupt any ongoing response with output to the default\nconversation (i.e. `conversation` of `auto`) when a VAD start event occurs.\n"
                  default: true
                idle_timeout_ms:
                  anyOf:
                    - maximum: 30000
                      minimum: 5000
                      type: integer
                      description: "Optional timeout after which a model response will be triggered automatically. This is\nuseful for situations in which a long pause from the user is unexpected, such as a phone\ncall. The model will effectively prompt the user to continue the conversation based\non the current context.\n\nThe timeout value will be applied after the last model response's audio has finished playing,\ni.e. it's set to the `response.done` time plus audio playback duration.\n\nAn `input_audio_buffer.timeout_triggered` event (plus events\nassociated with the Response) will be emitted when the timeout is reached.\nIdle timeout is currently only supported for `server_vad` mode.\n"
                    - nullable: true
              description: Server-side voice activity detection (VAD) which flips on when user speech is detected and off after a period of silence.
            - title: Semantic VAD
              required:
                - type
              type: object
              properties:
                type:
                  enum:
                    - semantic_vad
                  type: string
                  description: "Type of turn detection, `semantic_vad` to turn on Semantic VAD.\n"
                eagerness:
                  enum:
                    - low
                    - medium
                    - high
                    - auto
                  type: string
                  description: "Used only for `semantic_vad` mode. The eagerness of the model to respond. `low` will wait longer for the user to continue speaking, `high` will respond more quickly. `auto` is the default and is equivalent to `medium`. `low`, `medium`, and `high` have max timeouts of 8s, 4s, and 2s respectively.\n"
                  default: auto
                create_response:
                  type: boolean
                  description: "Whether or not to automatically generate a response when a VAD stop event occurs.\n"
                  default: true
                interrupt_response:
                  type: boolean
                  description: "Whether or not to automatically interrupt any ongoing response with output to the default\nconversation (i.e. `conversation` of `auto`) when a VAD start event occurs.\n"
                  default: true
              description: Server-side semantic turn detection which uses a model to determine when the user has finished speaking.
          description: "Configuration for turn detection, ether Server VAD or Semantic VAD. This can be set to `null` to turn off, in which case the client must manually trigger model response.\n\nServer VAD means that the model will detect the start and end of speech based on audio volume and respond at the end of user speech.\n\nSemantic VAD is more advanced and uses a turn detection model (in conjunction with VAD) to semantically estimate whether the user has finished speaking, then dynamically sets a timeout based on this probability. For example, if user audio trails off with \"uhhm\", the model will score a low probability of turn end and wait longer for the user to continue speaking. This can be useful for more natural conversations, but may have a higher latency.\n"
          discriminator:
            propertyName: type
        - nullable: true